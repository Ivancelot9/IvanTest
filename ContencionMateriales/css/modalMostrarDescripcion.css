/* ————— Variables de color ————— */
:root {
    --blue-dark:     #1e2a38;
    --blue-primary:  #0366d6;
    --gray-border:   #d0d7de;
    --text-light:    #ffffff;
    --text-dark:     #1c1e21;
    --accent-ok:     #2ea043;
    --accent-no:     #d93025;
}

/* ————— Overlay ————— */
.modal-overlay {
    position: fixed; top:0; left:0; right:0; bottom:0;
    background: rgba(30,42,56,0.75);
    display: none; align-items:center; justify-content:center;
    z-index:999;
}

/* ————— Ventana principal ————— */
.modal-content.reporte {
    background: #fff;
    border: 2px solid var(--blue-dark);
    border-radius: 12px;
    width: 95%; max-width:900px; max-height:90vh;
    overflow-y:auto;
    padding:1rem;
    font-family:'Segoe UI',sans-serif;
    color: var(--text-dark);
    scrollbar-width: thin;
    scrollbar-color: var(--accent-ok) transparent;
}
.modal-content.reporte::-webkit-scrollbar { width:6px; }
.modal-content.reporte::-webkit-scrollbar-thumb {
    background: var(--accent-ok);
    border:1px solid var(--gray-border);
    border-radius:3px;
}

/* ————— Interior ————— */
.reporte-inner {
    background: var(--blue-dark);
    border-radius: 12px;
    padding: 1.5rem;
}

/* ————— Header ————— */
.reporte-header {
    display: flex; align-items:center; justify-content:space-between;
    border-bottom:2px solid var(--gray-border);
    padding-bottom:.5rem;
    margin-bottom:1rem;
}
.modal-heading {
    display:flex; align-items:center; gap:.5rem;
    font-size:1.4rem; color:var(--text-light); margin:0;
}
.modal-close {
    background:none; border:none;
    font-size:1.5rem; color:var(--text-light);
    cursor:pointer;
}
@keyframes pulse {
    0%   { transform: scale(1); }
    50%  { transform: scale(1.2); }
    100% { transform: scale(1.4); }
}
.modal-close:hover {
    animation: pulse .2s forwards;
    border:2px solid var(--accent-no);
    border-radius:50%;
}

/* ————— Grid de datos ————— */
.reporte-grid {
    display:grid;
    grid-template-columns:
    max-content minmax(140px,1fr)
    max-content minmax(140px,1fr);
    row-gap:.5rem; column-gap:1rem;
    background: var(--blue-dark);
    padding:1rem; border-radius:8px;
}
.field-label {
    font-weight:600; color:var(--text-light);
    justify-self:start;
}
.field-value,
.description-box {
    border:6px solid transparent;
    border-radius:16px;
    background-image:
            linear-gradient(#fff,#fff),
            linear-gradient(135deg, var(--accent-ok), var(--blue-primary));
    background-origin: padding-box, border-box;
    background-clip: padding-box, border-box;
    padding:.5rem;
    color: var(--text-dark);
}
.description-box {
    grid-column:1 / span 4;
    min-height:120px; overflow-y:auto;
    padding:.75rem;
}

/* ————— Bloque de defecto ————— */
.defect-block {
    margin-top:1rem;
    border-radius:8px;
    overflow:hidden;
    box-shadow:0 1px 3px rgba(0,0,0,0.1);
}
.defect-block .block-header {
    background: var(--blue-primary);
    color: var(--text-light);
    padding:0.75rem 1rem;
    font-size:1.1rem;
    font-weight:bold;
}

/* ————— Fotos OK/NO OK lado a lado ————— */
.defect-photos {
    display:flex;
    gap:1rem;
    background:none;
}
.defect-photos .photo-section {
    flex:1;
    border-radius:6px;
    padding:1rem;
    background:#fff;
    border:2px solid var(--gray-border);
}
.ok-section {
    background:#e6f4ea;
    border-color:var(--accent-ok);
}
.no-section {
    background:#fce8e6;
    border-color:var(--accent-no);
}
.defect-photos .photo-section h3 {
    margin:0 0 .5rem;
    display:flex; align-items:center; gap:.5rem;
}
.ok-section h3, .ok-section i { color:var(--accent-ok); }
.no-section h3, .no-section i { color:var(--accent-no); }

/* ————— Galería interna ————— */
.photos-grid {
    display:grid;
    grid-template-columns:repeat(auto-fill, minmax(80px,1fr));
    gap:.5rem;
}
.photos-grid img {
    width:100%; height:100px;
    object-fit:cover; border-radius:4px;
    cursor:pointer; transition:transform .2s;
}
.photos-grid.ok img:hover {
    transform:scale(1.1);
    border:4px solid var(--accent-ok);
}
.photos-grid.no img:hover {
    transform:scale(1.1);
    border:4px solid var(--accent-no);
}

/* ————— Lightbox ————— */
#modal-image {
    display:flex; align-items:center; justify-content:center;
    background:rgba(30,42,56,0.85);
}
#modal-image img {
    max-width:90%; max-height:90%;
    border-radius:4px;
}
#modal-image .close-img {
    position:absolute; top:20px; right:30px;
    font-size:2rem; color:#fff;
    background:none; border:none; cursor:pointer;
}

/* ————— Responsive (≤768px) ————— */
@media (max-width:768px) {
    .reporte-grid { grid-template-columns:1fr; }
    .description-box { grid-column:auto; min-height:100px; }
    .defect-photos { flex-direction:column; }
}
